[gd_scene load_steps=11 format=3 uid="uid://ct1dtslkycmrk"]

[ext_resource type="Script" path="res://Scenes/Actors/Player.gd" id="1_fvvli"]
[ext_resource type="SpriteFrames" uid="uid://btoqcq38ikcrd" path="res://Assets/Sprites/Animations/Player_SpriteFrames.tres" id="1_infe4"]
[ext_resource type="Script" path="res://Scenes/Actors/state_machine.gd" id="3_mde7v"]
[ext_resource type="Script" path="res://Scenes/Actors/PlayerStates/idle.gd" id="4_33pue"]
[ext_resource type="Script" path="res://Scenes/Actors/PlayerStates/move.gd" id="5_dy7wr"]
[ext_resource type="Script" path="res://Scenes/Actors/PlayerStates/jump.gd" id="6_6jmq1"]
[ext_resource type="Script" path="res://Scenes/Actors/PlayerStates/fall.gd" id="7_buy52"]
[ext_resource type="Script" path="res://Scenes/Actors/attack.gd" id="8_ea2a6"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_fc428"]
size = Vector2(32, 33.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_q82bc"]
size = Vector2(16, 30)

[node name="Player" type="CharacterBody2D"]
script = ExtResource("1_fvvli")

[node name="animations" type="AnimatedSprite2D" parent="."]
use_parent_material = true
sprite_frames = ExtResource("1_infe4")
animation = &"Idle"
metadata/_edit_lock_ = true

[node name="SwordHit" type="Area2D" parent="animations"]
metadata/_edit_lock_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="animations/SwordHit"]
position = Vector2(16, -0.75)
shape = SubResource("RectangleShape2D_fc428")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, 1)
shape = SubResource("RectangleShape2D_q82bc")
metadata/_edit_lock_ = true

[node name="state_machine" type="Node" parent="." node_paths=PackedStringArray("starting_state")]
script = ExtResource("3_mde7v")
starting_state = NodePath("idle")

[node name="idle" type="Node" parent="state_machine" node_paths=PackedStringArray("fall_state", "jump_state", "move_state", "attack_State")]
script = ExtResource("4_33pue")
fall_state = NodePath("../fall")
jump_state = NodePath("../jump")
move_state = NodePath("../move")
attack_State = NodePath("../attack")
animation_name = "Idle"

[node name="move" type="Node" parent="state_machine" node_paths=PackedStringArray("fall_state", "idle_state", "jump_state", "attack_state")]
script = ExtResource("5_dy7wr")
fall_state = NodePath("../fall")
idle_state = NodePath("../idle")
jump_state = NodePath("../jump")
attack_state = NodePath("../attack")
animation_name = "Move"

[node name="jump" type="Node" parent="state_machine" node_paths=PackedStringArray("self_state", "fall_state", "idle_state", "move_state")]
script = ExtResource("6_6jmq1")
self_state = NodePath(".")
fall_state = NodePath("../fall")
idle_state = NodePath("../idle")
move_state = NodePath("../move")
animation_name = "Jump"

[node name="fall" type="Node" parent="state_machine" node_paths=PackedStringArray("self_state", "idle_state", "move_state", "jump_state")]
script = ExtResource("7_buy52")
self_state = NodePath(".")
idle_state = NodePath("../idle")
move_state = NodePath("../move")
jump_state = NodePath("../jump")
animation_name = "Fall"

[node name="attack" type="Node" parent="state_machine" node_paths=PackedStringArray("move_state", "fall_state", "idle_state")]
script = ExtResource("8_ea2a6")
move_state = NodePath("../move")
fall_state = NodePath("../fall")
idle_state = NodePath("../idle")
animation_name = "Attack"

[node name="Node" type="Node" parent="."]

[node name="dodge" type="Node" parent="Node"]

[node name="attack_combo" type="Node" parent="Node"]

[node name="block" type="Node" parent="Node"]

[node name="block_active" type="Node" parent="Node"]

[node name="damaged" type="Node" parent="Node"]

[node name="death" type="Node" parent="Node"]
